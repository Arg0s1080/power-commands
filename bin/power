#!/bin/bash
case $1 in
	shutdown)
		dbus-send --system --print-reply --dest=org.freedesktop.login1 /org/freedesktop/login1 "org.freedesktop.login1.Manager.PowerOff" boolean:true
		;;
	hibernate)
		dbus-send --system --print-reply --dest=org.freedesktop.login1 /org/freedesktop/login1 "org.freedesktop.login1.Manager.Hibernate" boolean:true
		;;
	suspend)
		dbus-send --system --print-reply --dest=org.freedesktop.login1 /org/freedesktop/login1 "org.freedesktop.login1.Manager.Suspend" boolean:true
		;;
	restart)
		dbus-send --system --print-reply --dest=org.freedesktop.login1 /org/freedesktop/login1 "org.freedesktop.login1.Manager.Reboot" boolean:true
		;;
	kill)
		xkill
		;;
	logout)
		case $DESKTOP_SESSION in
			mate)
				mate-session-save --logout
				;;
			gnome)
				gnome-session-quit --logout --no-prompt
				;;
		esac
		;;
	lock)
		case $DESKTOP_SESSION in
			mate)
				mate-screensaver-command --lock
				;;
			gnome)
				gnome-screensaver-command --lock
				;;
		esac
		;;
	screensaver)
		case $DESKTOP_SESSION in
			mate)
				mate-screensaver-command --activate
				;;
			gnome)
				gnome-screensaver-command --activate
				;;
		esac
		;;
esac
